interval: 5
display: console

data-feeds:
  - source: rss
    url: https://api.travis-ci.org/repos/SketchingDev/Doodle-Dashboard/builds.atom
     # By sorting oldest first the last message passed to the notification's updater will be latest
    sort: oldest

notifications:
  - title: Doodle-Dashboard build status
    type: image
    update-with:
      name: image-depending-on-message-content
      default-image: https://raw.githubusercontent.com/SketchingDev/Doodle-Dashboard/examples/build-radiator/images/unknown.png
      images:
        - path: https://raw.githubusercontent.com/SketchingDev/Doodle-Dashboard/examples/build-radiator/images/failure.png
          if-contains: "State: failed"
        - path: https://raw.githubusercontent.com/SketchingDev/Doodle-Dashboard/examples/build-radiator/images/building.png
          if-contains: "State: started"
        - path: https://raw.githubusercontent.com/SketchingDev/Doodle-Dashboard/examples/build-radiator/images/success.png
          if-contains: "State: passed"
      filter-messages:
        - type: message-contains-text
          text: "SketchingDev/Doodle-Dashboard Build"